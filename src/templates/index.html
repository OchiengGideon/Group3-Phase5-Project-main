<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>sentanaly</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body data-bs-spy="scroll" data-bs-target=".navbar">

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg bg-white sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="{{ url_for('static', filename='images/sentanaly-high-resolution-logo.png') }}" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#hero">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About Project</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sentiment-analysis">Sentiment Analysis</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#team">Team</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="hero" class="min-vh-100 d-flex align-items-center text-center">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h1 data-aos="fade-left" class="text-uppercase text-white fw-semibold display-1">Turn Opinions into Opportunities</h1>
                    <h5 class="text-white mt-3 mb-4" data-aos="fade-right">Leverage AI-powered sentiment analysis to transform raw opinions into clear, actionable insights.</h5>
                    <div data-aos="fade-up" data-aos-delay="50">
                        <a href="#sentiment-analysis" class="btn btn-brand me-2">Get Started</a>
                        <a href="#team" class="btn btn-light ms-2">Our Portfolio</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center" data-aos="fade-down" data-aos-delay="50">
                    <div class="section-title">
                        <h1 class="display-4 fw-semibold">About The Project</h1>
                        <div class="line"></div>
                        <p>In today's digital marketplace, customer reviews play a crucial role in shaping purchasing decisions and brand reputation. Online platforms like Amazon generate millions of reviews daily, providing valuable insights into customer satisfaction, product quality, and service efficiency.</p>
                        <p>This project leverages Sentiment Analysis, a branch of Natural Language Processing (NLP), to analyze and interpret customer emotions from text data. By automating this process, businesses can gain deeper insights into consumer sentiment, enhance customer experience, refine products, and drive better decision-making.</p>
                    </div>
                </div>
            </div>
            <div class="row justify-content-between align-items-center">
                <div class="col-lg-6" data-aos="fade-down" data-aos-delay="50">
                    <img src="{{ url_for('static', filename='images/close-up-teamwork-concept.jpg') }}" alt="">
                </div>
                <div data-aos="fade-down" data-aos-delay="150" class="col-lg-5">
                    <h1>Stakeholders</h1>
                    <p class="mt-3 mb-4">This project is valuable to multiple stakeholders, each benefiting in different ways from sentiment analysis of Walmart reviews data.</p>
                    <div class="d-flex pt-4 mb-3">
                        <div class="iconbox me-4">
                            <i class="ri-shake-hands-fill"></i>
                        </div>
                        <div>
                            <h5>E-commerce Businesses & Product Sellers</h5>
                        </div>
                    </div>
                    <div class="d-flex mb-3">
                        <div class="iconbox me-4">
                            <i class="ri-shopping-bag-2-fill"></i>
                        </div>
                        <div>
                            <h5>Consumers & Online Shoppers</h5>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="iconbox me-4">
                            <i class="ri-rocket-2-fill"></i>
                        </div>
                        <div>
                            <h5>We are Awesome</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICES SECTION -->
    <section id="services" class="section-padding border-top">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center" data-aos="fade-down" data-aos-delay="150">
                    <div class="section-title">
                        <h1 class="display-4 fw-semibold">Objectives</h1>
                        <div class="line"></div>
                        <p>We love to craft digital experiences for brands rather than crap and more lorem ipsums and do crazy skills</p>
                    </div>
                </div>
            </div>
            <div class="row g-4 text-center">
                <div class="col-lg-4 col-sm-6" data-aos="fade-down" data-aos-delay="150">
                    <div class="service theme-shadow p-lg-5 p-4">
                        <div class="iconbox">
                            <i class="ri-line-chart-fill"></i>
                        </div>
                        <h5 class="mt-4 mb-3">Develop a Sentiment Analysis Model</h5>
                        <p>Build an automated system to classify Walmart customer reviews into positive, negative, or neutral sentiments.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6" data-aos="fade-down" data-aos-delay="250">
                    <div class="service theme-shadow p-lg-5 p-4">
                        <div class="iconbox">
                            <i class="ri-emotion-happy-fill"></i>
                        </div>
                        <h5 class="mt-4 mb-3">Enhance Customer Insights</h5>
                        <p>Extract key trends from customer feedback to help businesses understand consumer preferences and satisfaction levels.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6" data-aos="fade-down" data-aos-delay="350">
                    <div class="service theme-shadow p-lg-5 p-4">
                        <div class="iconbox">
                            <i class="ri-service-fill"></i>
                        </div>
                        <h5 class="mt-4 mb-3">Improve Product & Service Quality</h5>
                        <p>Identify patterns in negative reviews to highlight areas for improvement in products and services.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6" data-aos="fade-down" data-aos-delay="450">
                    <div class="service theme-shadow p-lg-5 p-4">
                        <div class="iconbox">
                            <i class="ri-pie-chart-2-fill"></i>
                        </div>
                        <h5 class="mt-4 mb-3">Automate Review Analysis</h5>
                        <p>Reduce manual effort by implementing sentiment analysis to process thousands of reviews efficiently.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6" data-aos="fade-down" data-aos-delay="550">
                    <div class="service theme-shadow p-lg-5 p-4">
                        <div class="iconbox">
                            <i class="ri-customer-service-2-fill"></i>
                        </div>
                        <h5 class="mt-4 mb-3">Refine Marketing & Customer Support Strategies</h5>
                        <p>Track sentiment trends to improve marketing efforts and enhance customer service responses.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6" data-aos="fade-down" data-aos-delay="650">
                    <div class="service theme-shadow p-lg-5 p-4">
                        <div class="iconbox">
                            <i class="ri-user-2-fill"></i>
                        </div>
                        <h5 class="mt-4 mb-3">Improve Decision-Making for Shoppers</h5>
                        <p>Provide consumers with sentiment-based insights to make informed purchasing decisions beyond star ratings.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- COUNTER SECTION -->
    <section id="counter" class="section-padding">
        <div class="container text-center">
            <div class="row g-4">
                <div class="col-lg-3 col-sm-6" data-aos="fade-down" data-aos-delay="150">
                    <h1 class="text-white display-4">90% +</h1>
                    <h6 class="text-uppercase mb-0 text-white mt-3">Accuracy</h6>
                </div>
                <div class="col-lg-3 col-sm-6" data-aos="fade-down" data-aos-delay="250">
                    <h1 class="text-white display-4">99%</h1>
                    <h6 class="text-uppercase mb-0 text-white mt-3">Reccomended</h6>
                </div>
                <div class="col-lg-3 col-sm-6" data-aos="fade-down" data-aos-delay="350">
                    <h1 class="text-white display-4">1000+</h1>
                    <h6 class="text-uppercase mb-0 text-white mt-3">Reviews</h6>
                </div>
                <div class="col-lg-3 col-sm-6" data-aos="fade-down" data-aos-delay="450">
                    <h1 class="text-white display-4">5</h1>
                    <h6 class="text-uppercase mb-0 text-white mt-3">Team Members</h6>
                </div>
            </div>
        </div>
    </section>

    <!-- Sentiment Analysis Section -->
    <section id="sentiment-analysis" class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <h2 class="section-title">Product Sentiment Analysis</h2>
                    <p class="lead">Select a pre-analyzed product or upload new reviews (CSV format)</p>
                    <div id="status-message" class="alert" style="display: none;"></div>
                </div>
            </div>

            <!-- Analysis Controls -->
            <div class="row mt-4">
                <div class="col-lg-8 mx-auto">
                    <form id="analysis-form" method="POST" enctype="multipart/form-data">
                        <div class="card">
                            <div class="card-body">
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="product-select" class="form-label">Available Products</label>
                                        <select class="form-select" id="product-select" name="product">
                                            <option value="">Select a product...</option>
                                            {% for product in products %}
                                                <option value="{{ product }}">{{ product|title }}</option>
                                            {% endfor %}
                                        </select>
                                        <div class="form-text">Pre-analyzed products</div>
                                    </div>

                                    <div class="col-md-6">
                                        <label for="file-upload" class="form-label">New Analysis</label>
                                        <div class="input-group">
                                            <input type="file" class="form-control" id="file-upload"
                                                   name="file" accept=".csv"
                                                   aria-describedby="file-format-help">
                                            <span class="input-group-text">.csv</span>
                                        </div>
                                        <div id="file-format-help" class="form-text">
                                            Must follow: [product]_reviews.csv format
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <div class="d-grid gap-2">
                                            <button type="submit" class="btn btn-primary" id="analyze-btn">
                                                <span class="spinner-border spinner-border-sm"
                                                      role="status" aria-hidden="true"
                                                      style="display: none;"></span>
                                                Analyze Reviews
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Results Visualization -->
            <div class="row mt-5" id="results-container" style="display: none;">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Analysis Summary</div>
                        <div class="card-body">
                            <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
                                <table class="table table-hover">
                                    <thead style="position: sticky; top: 0; background: white; z-index: 1;">
                                        <tr>
                                            <th>Review</th>
                                            <th>Score</th>
                                            <th>Sentiment</th>
                                        </tr>
                                    </thead>
                                    <tbody id="results-body"></tbody>
                                </table>
                            </div>
                            <nav aria-label="Results pagination" class="mt-3">
                                <ul class="pagination justify-content-center" id="pagination-controls">
                                    <li class="page-item disabled" id="prev-page">
                                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                                    </li>
                                    <li class="page-item" id="next-page">
                                        <a class="page-link" href="#">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Sentiment Distribution</div>
                        <div class="card-body text-center">
                            <img id="sentiment-visualization" class="img-fluid"
                                 style="max-height: 400px;" alt="Sentiment Chart">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- TEAM SECTION -->
    <section id="team" class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center" data-aos="fade-down" data-aos-delay="150">
                    <div class="section-title">
                        <h1 class="display-4 fw-semibold">Team Members</h1>
                        <div class="line"></div>
                        <p>From AI engineers to statisticians, meet the minds behind our cutting-edge Sentiment Analysis project.</p>
                    </div>
                </div>
            </div>
            <div class="row g-4 text-center">
                <div class="col-md-4" data-aos="fade-down" data-aos-delay="150">
                    <div class="team-member image-zoom">
                        <div class="image-zoom-wrapper">
                            <img src="{{ url_for('static', filename='images/Victor.jpeg') }}" alt="">
                        </div>
                        <div class="team-member-content">
                            <h4 class="text-white">Victor Masinde</h4>
                            <p class="mb-0 text-white">Data Scientist</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-down" data-aos-delay="250">
                    <div class="team-member image-zoom">
                        <div class="image-zoom-wrapper">
                            <img src="{{ url_for('static', filename='images/avotor-f2.jpg') }}" alt="">
                        </div>
                        <div class="team-member-content">
                            <h4 class="text-white">Ann Mwangi</h4>
                            <p class="mb-0 text-white">Data Scientist</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-down" data-aos-delay="350">
                    <div class="team-member image-zoom">
                        <div class="image-zoom-wrapper">
                            <img src="{{ url_for('static', filename='images/avator-f1.jpg') }}" alt="">
                        </div>
                        <div class="team-member-content">
                            <h4 class="text-white">Lorna Gatimu</h4>
                            <p class="mb-0 text-white">Data Scientist</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-down" data-aos-delay="350">
                    <div class="team-member image-zoom">
                        <div class="image-zoom-wrapper">
                            <img src="{{ url_for('static', filename='images/Gideon.png') }}" alt="">
                        </div>
                        <a href="https://www.linkedin.com/in/gideon-ochieng" target="_blank"><div class="team-member-content">
                            <h4 class="text-white">Gideon ochieng</h4>
                            <p class="mb-0 text-white">Data Scientist</p>
                        </div></a>
                    </div>
                </div>
                <div class="col-md-4" data-aos="fade-down" data-aos-delay="350">
                    <div class="team-member image-zoom">
                        <div class="image-zoom-wrapper">
                            <img src="{{ url_for('static', filename='images/avator-m3.jpg') }}" alt="">
                        </div>
                        <div class="team-member-content">
                            <h4 class="text-white">Charles Odhiambo</h4>
                            <p class="mb-0 text-white">Data Scientist</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-dark">
        <div class="footer-top">
            <div class="container">
                <div class="row gy-5">
                    <div class="col-lg-3 col-sm-6">
                        <a href="#"><img src="{{ url_for('static', filename='images/logo-white.svg') }}" alt=""></a>
                        <div class="line"></div>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem, hic!</p>
                        <div class="social-icons">
                            <a href="#"><i class="ri-twitter-fill"></i></a>
                            <a href="#"><i class="ri-instagram-fill"></i></a>
                            <a href="#"><i class="ri-github-fill"></i></a>
                            <a href="#"><i class="ri-dribbble-fill"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <h5 class="mb-0 text-white">SERVICES</h5>
                        <div class="line"></div>
                        <ul>
                            <li><a href="#">Data analysis</a></li>
                            <li><a href="#">Database Administration</a></li>
                            <li><a href="#">Machine Learning</a></li>
                            <li><a href="#">Tableau Dashboard</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <h5 class="mb-0 text-white">ABOUT</h5>
                        <div class="line"></div>
                        <ul>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Services</a></li>
                            <li><a href="#">Company</a></li>
                            <li><a href="#">Career</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <h5 class="mb-0 text-white">CONTACT</h5>
                        <div class="line"></div>
                        <ul>
                            <li>Nairobi</li>
                            <li>+254787654321</li>
                            <li>www.sentanaly.com</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row g-4 justify-content-between">
                    <div class="col-auto">
                        <p class="mb-0">© Copyright. All Rights Reserved</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
    <script>
        AOS.init();

        let currentPage = 1;
        const rowsPerPage = 10;
        let paginatedData = [];

        document.getElementById('analysis-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('analyze-btn');
            const spinner = btn.querySelector('.spinner-border');
            const status = document.getElementById('status-message');
            const formData = new FormData(e.target);

            // UI State Management
            btn.disabled = true;
            spinner.style.display = 'inline-block';
            status.style.display = 'none';

            try {
                const response = await fetch('/analyze', {
                    method: 'POST',
                    body: formData
                });

                const data = await response.json();
                if (!response.ok) throw new Error(data.error || 'Analysis failed');

                // Handle successful response
                const resultsContainer = document.getElementById('results-container');
                const resultsBody = document.getElementById('results-body');
                const chartImg = document.getElementById('sentiment-visualization');

                // Store the full results and paginate
                paginatedData = chunkArray(data.results, rowsPerPage);
                currentPage = 1;
                updateTable();
                updatePaginationControls();

                // Update visualization
                chartImg.src = `data:image/png;base64,${data.plot_url}`;
                resultsContainer.style.display = 'flex';

                // Show success message
                showStatusMessage(data.message || 'Analysis completed successfully', 'success');

                // Update product selector if new analysis
                if (data.message?.includes('New analysis')) {
                    setTimeout(() => window.location.reload(), 3000);
                }

            } catch (error) {
                showStatusMessage(error.message, 'danger');
                console.error('Analysis Error:', error);
            } finally {
                btn.disabled = false;
                spinner.style.display = 'none';
            }
        });

        function chunkArray(arr, chunkSize) {
            const chunks = [];
            for (let i = 0; i < arr.length; i += chunkSize) {
                chunks.push(arr.slice(i, i + chunkSize));
            }
            return chunks;
        }

        function updateTable() {
            const resultsBody = document.getElementById('results-body');
            const currentData = paginatedData[currentPage - 1] || [];

            resultsBody.innerHTML = currentData.map((result, index) => `
                <tr>
                    <td class="text-truncate" style="max-width: 300px;">${result.review_text || result.review}</td>
                    <td>${result.compound_score ? result.compound_score.toFixed(3) : 'N/A'}</td>
                    <td><span class="badge ${getSentimentBadgeClass(result.sentiment)}">${result.sentiment}</span></td>
                </tr>
            `).join('');
        }

        function updatePaginationControls() {
            const prevButton = document.getElementById('prev-page');
            const nextButton = document.getElementById('next-page');
            const pageInfo = document.createElement('li');
            pageInfo.className = 'page-item disabled';
            pageInfo.innerHTML = `<span class="page-link">Page ${currentPage} of ${paginatedData.length}</span>`;

            // Clear existing controls
            const controls = document.getElementById('pagination-controls');
            controls.innerHTML = '';

            // Add previous button
            prevButton.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
            controls.appendChild(prevButton.cloneNode(true));

            // Add page info
            controls.appendChild(pageInfo);

            // Add next button
            nextButton.className = `page-item ${currentPage === paginatedData.length ? 'disabled' : ''}`;
            controls.appendChild(nextButton.cloneNode(true));

            // Add event listeners
            document.querySelector('.page-link:not(.disabled)').addEventListener('click', (e) => {
                if (e.target.textContent === 'Next') {
                    currentPage = Math.min(currentPage + 1, paginatedData.length);
                } else if (e.target.textContent === 'Previous') {
                    currentPage = Math.max(currentPage - 1, 1);
                }
                updateTable();
                updatePaginationControls();
            });
        }

        function getSentimentBadgeClass(sentiment) {
            return {
                'Positive': 'bg-success',
                'Negative': 'bg-danger',
                'Neutral': 'bg-warning text-dark'
            }[sentiment] || 'bg-secondary';
        }

        function showStatusMessage(message, type = 'info') {
            const status = document.getElementById('status-message');
            status.className = `alert alert-${type} alert-dismissible fade show`;
            status.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`;
            status.style.display = 'block';
        }

        // Initialize form validation
        document.getElementById('file-upload').addEventListener('change', (e) => {
            document.getElementById('product-select').value = '';
        });

        document.getElementById('product-select').addEventListener('change', (e) => {
            document.getElementById('file-upload').value = '';
        });
    </script>
</body>

</html>